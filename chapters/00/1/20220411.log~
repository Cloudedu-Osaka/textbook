# IPython log file

# Mon, 11 Apr 2022 23:17:19
import os

from datetime import date
from datetime import time
from datetime import datetime as dt

def logfile(user=os.environ.get('JUPYTERHUB_USER') or 'jovyan'):
    prefix='/srv'
    if os.path.isdir(prefix) and os.access(prefix, os.W_OK):
        prefix+=('/'+user)
        if not os.path.isdir(prefix):
            os.makedirs(prefix)
    else:
        prefix='.'
    return prefix+'/'+dt.now().strftime('%Y%m%d')+'.log'

path=logfile()
get_ipython().run_line_magic('logstop', '')
get_ipython().run_line_magic('logstart', '-otq $path')
#%logstate
